import{r as s,_ as n,a as f,j as e,L as p,b as R}from"./index-lY2C8OBL.js";const S=s.lazy(()=>n(()=>import("./GameBanner-W6B_oL3F.js"),__vite__mapDeps([0,1,2,3]))),I=s.lazy(()=>n(()=>import("./RawgGenreList-WvRl9_3n.js"),__vite__mapDeps([4,1,2,5]))),w=s.lazy(()=>n(()=>import("./GamesByGenre-pouFEbzm.js"),__vite__mapDeps([6,1,2,7,8])));s.lazy(()=>n(()=>import("./GamesByPlatform-mcmIxXi8.js"),__vite__mapDeps([9,1,2,7,8])));const A=s.lazy(()=>n(()=>import("./RawgPlatformList-kuVHivIy.js"),__vite__mapDeps([10,1,2,5]))),B=(r,c)=>r.sort(()=>.5-Math.random()).slice(0,c),D=()=>{const[r,c]=s.useState([]),[l,_]=s.useState({}),[m,y]=s.useState(null),[d,G]=s.useState(null),[j,v]=s.useState([]),[P,E]=s.useState("Action"),[a,N]=s.useState(1);s.useEffect(()=>{r.length>0&&_(B(r,10))},[r]),s.useEffect(()=>{d?b():h(4,a)},[d,a]);const h=async(t,o)=>{try{const i=await f.getGamesByGenreId(t,o);c(i?.data?.results||[])}catch(i){g(i,"Error fetching games by genre")}},b=async()=>{try{const t=await f.getPlatformList();v(t?.data?.results||[])}catch(t){g(t,"Error fetching games by platform")}},x=t=>{E(t)},g=(t,o)=>{y(o),console.error(`Error: ${o}`,t)},L=t=>{G(t),console.log("Platform ID selected:",t)},u=t=>{N(t)};return m?e.jsx("div",{className:"p-5 text-text",children:e.jsxs("p",{className:"text-xl text-error",children:["Error: ",m]})}):e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[e.jsx(p,{to:"/streams/",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white ",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Top Streaming"})})}),e.jsx(p,{to:"/games/top",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-2xl font-bold ",children:"Top Rated"})})}),e.jsx(I,{onGenreSelect:t=>h(t,1),onGenreName:x}),e.jsx(A,{platformList:j,onPlatformSelect:L,onGenreName:x})]}),r.length>0&&e.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[l.length>0?e.jsx(S,{randomGames:l}):e.jsx(R,{}),e.jsx(w,{gamesByGenreList:r,genereName:P,platformId:d}),e.jsxs("div",{className:"text-text flex justify-center items-center gap-5 my-20",children:[e.jsx("button",{className:"bg-secondary  hover:text-white hover:bg-accent px-4 py-2 rounded-lg mr-2",onClick:()=>u(a-1),disabled:a===1,children:"Previous Page"}),e.jsx("button",{className:"bg-secondary hover:text-white hover:bg-accent px-4 py-2 rounded-lg",onClick:()=>u(a+1),children:"Next Page"})]})]})]})};export{D as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-W6B_oL3F.js","assets/index-lY2C8OBL.js","assets/index--_S3E3C_.css","assets/GameBanner-12C-0-yp.css","assets/RawgGenreList-WvRl9_3n.js","assets/CollapsibleSection-uQo41Xq3.js","assets/GamesByGenre-pouFEbzm.js","assets/index-APot0Kq9.js","assets/index-TSwrYPXL.js","assets/GamesByPlatform-mcmIxXi8.js","assets/RawgPlatformList-kuVHivIy.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
