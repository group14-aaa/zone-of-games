import{r as a,j as e}from"./index-pHgSSZYM.js";import{L as x}from"./LinksSidebar-ss_YtLxE.js";import{R as p}from"./twitch-smcj4K2C.js";import{t as u}from"./twitchApi-crRo7P_u.js";const w=({gameId:i,limit:c})=>{const[n,o]=a.useState([]),[r,d]=a.useState(null);a.useEffect(()=>{h(i,c)},[]);const h=async(s,m=100)=>{try{const t=await u.getTwitchStreams({params:{game_id:s,first:m,sort:"viewers"}});o(t.data.data)}catch(t){console.error("Error fetching twitch streams:",t)}},l=s=>{d(s)};return e.jsxs("div",{className:"p-5",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-400 mb-4 mt-6 text-center",children:"Top 100 Most viewed Live Streams on Twitch"}),e.jsx("div",{className:"flex flex-wrap justify-center",children:n.map(s=>e.jsxs("div",{className:"w-auto sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4 bg-secondary rounded overflow-hidden shadow-lg m-5 group hover:scale-105 transition-all duration-300 ease cursor-pointer",children:[r&&r.id===s.id?e.jsx("div",{className:"player-wrapper",children:e.jsx(p,{className:"react-player",url:`https://www.twitch.tv/${s.user_name}`,width:"100%",height:"100%",controls:!0,playing:!0})}):e.jsxs("div",{className:"thumbnail-container relative w-full h-40 cursor-pointer",children:[s.thumbnail_url?e.jsx("img",{src:s.thumbnail_url.replace("{width}","640").replace("{height}","360"),alt:`Thumbnail for ${s.user_name}`,width:"100%",height:"100%",onClick:()=>l(s),className:"w-full h-full object-cover rounded-md mb-2 scale-95"}):e.jsx("div",{className:"placeholder w-full h-full bg-gray-300 m-3 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500",children:"No Thumbnail"})}),e.jsx("div",{className:"play-button absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",onClick:()=>l(s),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"#fff",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-base mb-2",children:e.jsx("h3",{className:"text-lg font-semibold",children:s.user_name})}),e.jsxs("p",{children:["Viewers: ",s.viewer_count]})]})]},s.id))})]})},b=()=>e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx("div",{className:"bg-secondary text-text h-full hidden md:block",children:e.jsx(x,{})}),e.jsx("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:e.jsx(w,{})})]});export{b as default};
