import{r as s,_ as l,a as i,j as t,L as x,b as v}from"./index-4v41wHwD.js";const P=s.lazy(()=>l(()=>import("./GameBanner-iUYYOL5y.js"),__vite__mapDeps([0,1,2,3]))),R=s.lazy(()=>l(()=>import("./RawgGenreList-dAhUxwhX.js"),__vite__mapDeps([4,1,2,5]))),I=s.lazy(()=>l(()=>import("./GamesByGenre-sIs87YGO.js"),__vite__mapDeps([6,1,2,7,8])));s.lazy(()=>l(()=>import("./GamesByPlatform-0hm_8oGy.js"),__vite__mapDeps([9,1,2,7,8])));const w=s.lazy(()=>l(()=>import("./RawgPlatformList-P1o5bMIX.js"),__vite__mapDeps([10,1,2,5]))),S=(r,n)=>r.sort(()=>.5-Math.random()).slice(0,n),A=()=>{const[r,n]=s.useState([]),[o,g]=s.useState([]),[m,f]=s.useState({}),[d,_]=s.useState(null),[p,u]=s.useState(null),[y,G]=s.useState([]);s.useEffect(()=>{r.length>0&&o.length>0&&f(S(r,10))},[r,o]),s.useEffect(()=>{E(),h(4),j()},[]);const c=(e,a)=>{_(a),console.error(`Error: ${a}`,e)},E=async()=>{try{const e=await i.getGamesList;n(e?.data?.results||[])}catch(e){c(e,"Error fetching top-rated games")}},h=async e=>{try{const a=await i.getGamesByGenreId(e);g(a?.data?.results||[])}catch(a){c(a,"Error fetching games by genre")}},j=async()=>{try{const e=await i.getPlatformList();G(e?.data?.results||[])}catch(e){c(e,"Error fetching games by platform")}};if(d)return t.jsx("div",{className:"p-5 text-text",children:t.jsxs("p",{className:"text-xl",children:["Error: ",d]})});const L=e=>{u(e),console.log("Platform ID selected:",e)};return t.jsxs("div",{className:"grid grid-cols-4",children:[t.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[t.jsx(x,{to:"/streams/",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),t.jsx(x,{to:"/games/top",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),t.jsx(R,{onGenreSelect:e=>h(e)}),t.jsx(w,{platformList:y,onPlatformSelect:L})]}),r?.length>0&&o.length>0&&t.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[m.length>0?t.jsx(P,{randomGames:m}):t.jsx(v,{}),t.jsx(I,{gamesByGenreList:o,platformId:p})]})]})};export{A as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-iUYYOL5y.js","assets/index-4v41wHwD.js","assets/index-dBsjGLsw.css","assets/GameBanner-12C-0-yp.css","assets/RawgGenreList-dAhUxwhX.js","assets/CollapsibleSection-uqBGdinw.js","assets/GamesByGenre-sIs87YGO.js","assets/index-UvCYK72W.js","assets/index-qJdp3-d-.js","assets/GamesByPlatform-0hm_8oGy.js","assets/RawgPlatformList-P1o5bMIX.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
