import{r as s,_ as o,j as t,L as h,a as v}from"./index-En7tIN1h.js";import{r as c}from"./rawgApi-JX0N44-y.js";import"./axios-L6U4YIEh.js";const P=s.lazy(()=>o(()=>import("./GameBanner-_QmGixBs.js"),__vite__mapDeps([0,1,2]))),R=s.lazy(()=>o(()=>import("./RawgGenreList-6VCkA4M-.js"),__vite__mapDeps([3,1,2,4,5,6]))),I=s.lazy(()=>o(()=>import("./GamesByGenre-HP1NkQWl.js"),__vite__mapDeps([7,1,2,8,9,5,6])));s.lazy(()=>o(()=>import("./GamesByPlatform-R5AWEnbS.js"),__vite__mapDeps([10,1,2,5,6,8,9])));const w=s.lazy(()=>o(()=>import("./RawgPlatformList-Q_CJOYE9.js"),__vite__mapDeps([11,1,2,4,5,6]))),N=()=>{const[l,x]=s.useState([]),[a,g]=s.useState([]),[i,f]=s.useState({}),[m,p]=s.useState(null),[_,u]=s.useState(null),[y,E]=s.useState([]);s.useEffect(()=>{l.length>0&&a.length>0&&f(a[Math.floor(Math.random()*l.length)])},[l,a]),s.useEffect(()=>{G(),d(4),j()},[]);const n=(e,r)=>{p(r),console.error(`Error: ${r}`,e)},G=async()=>{try{const e=await c.getGamesList;x(e?.data?.results||[])}catch(e){n(e,"Error fetching top-rated games")}},d=async e=>{try{const r=await c.getGamesByGenreId(e);g(r?.data?.results||[])}catch(r){n(r,"Error fetching games by genre")}},j=async()=>{try{const e=await c.getPlatformList();E(e?.data?.results||[])}catch(e){n(e,"Error fetching games by platform")}};if(m)return t.jsx("div",{className:"p-5 text-text",children:t.jsxs("p",{className:"text-xl",children:["Error: ",m]})});const L=e=>{u(e),console.log("Platform ID selected:",e)};return t.jsxs("div",{className:"grid grid-cols-4",children:[t.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[t.jsx(h,{to:"/streams/",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),t.jsx(h,{to:"/games/top",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),t.jsx(R,{onGenreSelect:e=>d(e)}),t.jsx(w,{platformList:y,onPlatformSelect:L})]}),l?.length>0&&a.length>0&&t.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[i?t.jsx(P,{game:i}):t.jsx(v,{}),t.jsx(I,{gamesByGenreList:a,platformId:_})]})]})};export{N as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-_QmGixBs.js","assets/index-En7tIN1h.js","assets/index-BgXAfCmq.css","assets/RawgGenreList-6VCkA4M-.js","assets/CollapsibleSection-H00WLSR6.js","assets/rawgApi-JX0N44-y.js","assets/axios-L6U4YIEh.js","assets/GamesByGenre-HP1NkQWl.js","assets/index-Fws1QbZB.js","assets/index-b2OjNmcq.js","assets/GamesByPlatform-R5AWEnbS.js","assets/RawgPlatformList-Q_CJOYE9.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
