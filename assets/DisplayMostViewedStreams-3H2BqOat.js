import{r as a,j as e,L as l}from"./index-ZdBDXk-f.js";import{R as p}from"./twitch-Nht9i9e_.js";import{t as w}from"./twitchApi-EWAhOjxW.js";const u=({gameId:c,limit:o})=>{const[n,d]=a.useState([]),[r,h]=a.useState(null);a.useEffect(()=>{m(c,o)},[]);const m=async(t,x=100)=>{try{const s=await w.getTwitchStreams({params:{game_id:t,first:x,sort:"viewers"}});d(s.data.data)}catch(s){console.error("Error fetching twitch streams:",s)}},i=t=>{h(t)};return e.jsxs("div",{className:"p-5",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-400 mb-4 mt-6 text-center",children:"Top 100 Most viewed Live Streams on Twitch"}),e.jsx("div",{className:"flex flex-wrap justify-center",children:n.map(t=>e.jsxs("div",{className:"w-auto sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4 bg-secondary rounded overflow-hidden shadow-lg m-5 group hover:scale-105 transition-all duration-300 ease cursor-pointer",children:[r&&r.id===t.id?e.jsx("div",{className:"player-wrapper",children:e.jsx(p,{className:"react-player",url:`https://www.twitch.tv/${t.user_name}`,width:"100%",height:"100%",controls:!0,playing:!0})}):e.jsxs("div",{className:"thumbnail-container relative w-full h-40 cursor-pointer",children:[t.thumbnail_url?e.jsx("img",{src:t.thumbnail_url.replace("{width}","640").replace("{height}","360"),alt:`Thumbnail for ${t.user_name}`,width:"100%",height:"100%",onClick:()=>i(t),className:"w-full h-full object-cover rounded-md mb-2 scale-95"}):e.jsx("div",{className:"placeholder w-full h-full bg-gray-300 m-3 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500",children:"No Thumbnail"})}),e.jsx("div",{className:"play-button absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",onClick:()=>i(t),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"#fff",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-base mb-2",children:e.jsx("h3",{className:"text-lg font-semibold",children:t.user_name})}),e.jsxs("p",{children:["Viewers: ",t.viewer_count]})]})]},t.id))})]})},g=()=>e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsxs("div",{className:"bg-secondary text-text h-full hidden md:block",children:[e.jsx(l,{to:"/streams/",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white ",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Top Games Streaming"})})}),e.jsx(l,{to:"/streams/most-viewed",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white ",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Top 100 Streams"})})}),e.jsx(l,{to:"/games/top",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-2xl font-bold ",children:"Top Rated Games"})})})]}),e.jsx("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:e.jsx(u,{})})]});export{g as default};
