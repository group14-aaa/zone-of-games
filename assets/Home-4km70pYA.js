import{r as s,_ as n,a as m,j as t,L as g,b as N}from"./index-9t_NC1o6.js";const S=s.lazy(()=>n(()=>import("./GameBanner-wc3Q-OlJ.js"),__vite__mapDeps([0,1,2,3]))),I=s.lazy(()=>n(()=>import("./RawgGenreList-csCSSn5g.js"),__vite__mapDeps([4,1,2,5]))),w=s.lazy(()=>n(()=>import("./GamesByGenre-Sy8Zr-Wk.js"),__vite__mapDeps([6,1,2,7,8])));s.lazy(()=>n(()=>import("./GamesByPlatform-Wc1KkoG1.js"),__vite__mapDeps([9,1,2,7,8])));const A=s.lazy(()=>n(()=>import("./RawgPlatformList-o9f1AUix.js"),__vite__mapDeps([10,1,2,5]))),b=(a,l)=>a.sort(()=>.5-Math.random()).slice(0,l),T=()=>{const[a,l]=s.useState([]),[o,f]=s.useState([]),[i,_]=s.useState({}),[d,p]=s.useState(null),[G,u]=s.useState(null),[y,E]=s.useState([]),[j,L]=s.useState("Action");s.useEffect(()=>{a.length>0&&o.length>0&&_(b(a,10))},[a,o]),s.useEffect(()=>{v(),x(4),P()},[]);const h=e=>{L(e)},c=(e,r)=>{p(r),console.error(`Error: ${r}`,e)},v=async()=>{try{const e=await m.getGamesList;l(e?.data?.results||[])}catch(e){c(e,"Error fetching top-rated games")}},x=async e=>{try{const r=await m.getGamesByGenreId(e);f(r?.data?.results||[])}catch(r){c(r,"Error fetching games by genre")}},P=async()=>{try{const e=await m.getPlatformList();E(e?.data?.results||[])}catch(e){c(e,"Error fetching games by platform")}};if(d)return t.jsx("div",{className:"p-5 text-text",children:t.jsxs("p",{className:"text-xl",children:["Error: ",d]})});const R=e=>{u(e),console.log("Platform ID selected:",e)};return t.jsxs("div",{className:"grid grid-cols-4",children:[t.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[t.jsx(g,{to:"/streams/",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),t.jsx(g,{to:"/games/top",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),t.jsx(I,{onGenreSelect:e=>x(e),onGenreName:h}),t.jsx(A,{platformList:y,onPlatformSelect:R,onGenreName:h})]}),a?.length>0&&o.length>0&&t.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[i.length>0?t.jsx(S,{randomGames:i}):t.jsx(N,{}),t.jsx(w,{gamesByGenreList:o,genereName:j,platformId:G})]})]})};export{T as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-wc3Q-OlJ.js","assets/index-9t_NC1o6.js","assets/index-DYDFEQgQ.css","assets/GameBanner-12C-0-yp.css","assets/RawgGenreList-csCSSn5g.js","assets/CollapsibleSection-svioAWHr.js","assets/GamesByGenre-Sy8Zr-Wk.js","assets/index-SUM8CmA3.js","assets/index-DocCeehR.js","assets/GamesByPlatform-Wc1KkoG1.js","assets/RawgPlatformList-o9f1AUix.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
