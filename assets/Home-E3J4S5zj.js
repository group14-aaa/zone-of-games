import{r as a,j as e,F as J,a as K,_ as A,L as Q,b as N}from"./index-9Wz8_IoW.js";import{L as U}from"./LinksSidebar-lYG7mRka.js";const E=({title:r,children:l})=>{const[n,d]=a.useState(!1),c=()=>{d(!n)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center cursor-pointer",onClick:c,children:[e.jsx("h2",{className:"text-3xl font-bold mr-2",children:r}),n?e.jsx(J,{}):e.jsx(K,{})]}),!n&&l]})},W=({genreList:r,displayedGenres:l,genreActiveIndex:n,onShowMore:d,onShowLess:c,onGenreSelect:u,platformList:i,displayedPlatforms:g,platformActiveIndex:m,onShowMorePlatforms:p,onShowLessPlatforms:x,onPlatformSelect:f})=>e.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[e.jsx(U,{}),e.jsx("div",{className:"bg-secondary p-5 rounded-md shadow-md",children:e.jsxs(E,{title:"Genres",children:[r.slice(0,l).map((s,b)=>e.jsxs("div",{onClick:()=>{u(s.id)},className:`flex gap-2 items-center mb-2 mt-3 px-2 py-2 cursor-pointer hover:bg-accent hover:text-white group rounded-lg ${n===s.id?"bg-accent":""}`,children:[e.jsx("img",{loading:"lazy",width:40,height:40,src:s.image_background,alt:`Genre ${s.name} background`,className:`w-[40px] h-[40px] object-cover rounded-lg group-hover:scale-110 transition-all ease-out duration-300 ${n===s.id?"scale-110":""}`}),e.jsx("h3",{className:`text-[18px] group-hover:font-bold transition-all ease-out duration-300 ${n===s.id?"font-bold text-white":""}`,children:s.name})]},s.id)),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:d,className:"bg-primary text-text px-4 py-2 rounded-md hover:bg-success hover:opacity-90 transition duration-150 ease-in-out",children:"Show More"}),l>5&&e.jsx("button",{onClick:c,className:"bg-primary text-text px-4 py-2 rounded-md hover:bg-error hover:opacity-90 transition duration-150 ease-in-out",children:"Show Less"})]})]})}),e.jsx("div",{className:"bg-secondary p-5 rounded-md shadow-md",children:e.jsxs(E,{title:"Platforms",children:[i.slice(0,g).map((s,b)=>e.jsxs("div",{onClick:()=>{f(s.id)},className:`flex gap-2 items-center mb-2 mt-3 px-2 py-2 cursor-pointer hover:bg-accent hover:text-white group rounded-lg ${m===s.id?"bg-accent":""}`,children:[e.jsx("img",{loading:"lazy",width:40,height:40,src:s.image_background,alt:`Platform ${s.name} background`,className:`w-[40px] h-[40px] object-cover rounded-lg group-hover:scale-110 transition-all ease-out duration-300 ${m===s.id?"scale-110":""}`}),e.jsx("h3",{className:`text-[18px] group-hover:font-bold transition-all ease-out duration-300 ${m===s.id?"font-bold text-white":""}`,children:s.name})]},s.id)),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:p,className:"bg-primary text-text px-4 py-2 rounded-md hover:bg-success hover:opacity-90 transition duration-150 ease-in-out",children:"Show More"}),g>5&&e.jsx("button",{onClick:x,className:"bg-primary text-text px-4 py-2 rounded-md hover:bg-error hover:opacity-90 transition duration-150 ease-in-out",children:"Show Less"})]})]})})]}),X=a.lazy(()=>A(()=>import("./GameBanner-sFGwdKtI.js"),__vite__mapDeps([0,1,2,3]))),Y=a.lazy(()=>A(()=>import("./RawgGamesByGenreAndPlatformId-y62ZXzN8.js"),__vite__mapDeps([4,1,2,5,6]))),Z=({allGamesByGenreIdAndPlatformId:r,randomGames:l,selectedGenreName:n,selectedPlatformName:d,currentPage:c,onPrevPage:u,onNextPage:i})=>e.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[l.length>0?e.jsx(X,{randomGames:l}):e.jsx(Q,{}),e.jsx(Y,{gamesByGenreAndPlatformList:r,genreName:n,platformName:d,pageNumber:c}),e.jsxs("div",{className:"text-text flex justify-center items-center gap-5 my-20",children:[e.jsx("button",{className:"bg-secondary  hover:text-white hover:bg-accent px-4 py-2 rounded-lg mr-2",onClick:u,disabled:c===1,children:"Previous Page"}),e.jsx("button",{className:"bg-secondary hover:text-white hover:bg-accent px-4 py-2 rounded-lg",onClick:i,children:"Next Page"})]})]}),se=()=>{const[r,l]=a.useState([]),[n,d]=a.useState({}),[c,u]=a.useState(null),[i,g]=a.useState(4),[m,p]=a.useState(4),[x,f]=a.useState(1),[s,b]=a.useState([]),[j,S]=a.useState(10),[R,$]=a.useState(4),[M,B]=a.useState([]),[v,P]=a.useState(10),[z,D]=a.useState(4),[F,T]=a.useState(""),[O,V]=a.useState("");a.useEffect(()=>{r.length>0&&d(q(r,10))},[r]),a.useEffect(()=>{H()},[i,m,x]);const H=async()=>{try{const[t,o,h]=await Promise.all([N.getGamesByGenreIdAndPlatformId(i,m,x),N.getGenreList,N.getPlatformList]);if(t.status===200&&o.status===200&&h.status===200){l(t.data.results),b(o.data.results),B(h.data.results);const _=o.data.results.find(y=>y.id===i),I=h.data.results.find(y=>y.id===m);T(_?_.name:""),V(I?I.name:"")}else w(null,"Page not found")}catch(t){w(t,"Error fetching data")}},w=(t,o)=>{t.response&&t.response.status===404?u("No more pages available."):u(o),console.error(`Error: ${o}`,t)},q=(t,o)=>t.sort(()=>.5-Math.random()).slice(0,o),G=(t,o)=>{t(o+5)},L=(t,o)=>{t(Math.max(o-5,5))},k=(t,o,h)=>{t(h),o(h)},C=t=>{f(t)};return c?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsxs("h1",{className:"text-4xl font-bold text-red-500 mb-4",children:["Error: ",c]}),e.jsx("p",{className:"text-lg text-text mb-8",children:e.jsx("a",{href:"/",className:"hover:text-accent",children:"Go back to homepage!"})})]}):e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(W,{genreList:s,displayedGenres:j,genreActiveIndex:R,onShowMore:()=>G(S,j),onShowLess:()=>L(S,j),onGenreSelect:t=>k(g,$,t),platformList:M,displayedPlatforms:v,platformActiveIndex:z,onShowMorePlatforms:()=>G(P,v),onShowLessPlatforms:()=>L(P,v),onPlatformSelect:t=>k(p,D,t)}),e.jsx(Z,{allGamesByGenreIdAndPlatformId:r,randomGames:n,selectedGenreName:F,selectedPlatformName:O,currentPage:x,onPrevPage:()=>C(x-1),onNextPage:()=>C(x+1)})]})};export{se as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-sFGwdKtI.js","assets/index-9Wz8_IoW.js","assets/index-HBVEEQTQ.css","assets/GameBanner-12C-0-yp.css","assets/RawgGamesByGenreAndPlatformId-y62ZXzN8.js","assets/index-hhWhYvOl.js","assets/index-I4CumbYe.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
