import{r as s,_ as o,j as e,L as h,a as j}from"./index-4jG6FGpb.js";import{r as c}from"./rawgApi-BKK_scid.js";import"./axios-L6U4YIEh.js";const L=s.lazy(()=>o(()=>import("./GameBanner-a16vTTSb.js"),__vite__mapDeps([0,1,2]))),v=s.lazy(()=>o(()=>import("./RawgGenreList-i0kSQmE7.js"),__vite__mapDeps([3,1,2,4,5,6]))),R=s.lazy(()=>o(()=>import("./GamesByGenre-x_6x1IZW.js"),__vite__mapDeps([7,1,2,8,9])));s.lazy(()=>o(()=>import("./GamesByPlatform-cAbw8srZ.js"),__vite__mapDeps([10,1,2,5,6,8,9])));const P=s.lazy(()=>o(()=>import("./RawgPlatformList--RX2qCob.js"),__vite__mapDeps([11,1,2,4,5,6]))),b=()=>{const[n,x]=s.useState([]),[a,g]=s.useState([]),[i,p]=s.useState({}),[m,_]=s.useState(null),[f,y]=s.useState([]);s.useEffect(()=>{n.length>0&&a.length>0&&p(a[Math.floor(Math.random()*n.length)])},[n,a]),s.useEffect(()=>{E(),d(4),G()},[]);const l=(t,r)=>{_(r),console.error(`Error: ${r}`,t)},E=async()=>{try{const t=await c.getGamesList;x(t?.data?.results||[])}catch(t){l(t,"Error fetching top-rated games")}},d=async t=>{try{const r=await c.getGamesByGenreId(t);g(r?.data?.results||[])}catch(r){l(r,"Error fetching games by genre")}},G=async()=>{try{const t=await c.getPlatformList();y(t?.data?.results||[])}catch(t){l(t,"Error fetching games by platform")}};if(m)return e.jsx("div",{className:"p-5 text-text",children:e.jsxs("p",{className:"text-xl",children:["Error: ",m]})});const u=t=>{console.log("Platform ID selected:",t)};return e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[e.jsx(h,{to:"/streams/",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),e.jsx(h,{to:"/games/top",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),e.jsx(v,{onGenreSelect:t=>d(t)}),e.jsx(P,{platformList:f,onPlatformSelect:u})]}),n?.length>0&&a.length>0&&e.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[i?e.jsx(L,{game:i}):e.jsx(j,{}),e.jsx(R,{gamesByGenreList:a})]})]})};export{b as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-a16vTTSb.js","assets/index-4jG6FGpb.js","assets/index-Va5rbrsY.css","assets/RawgGenreList-i0kSQmE7.js","assets/CollapsibleSection-PnmUZUYj.js","assets/rawgApi-BKK_scid.js","assets/axios-L6U4YIEh.js","assets/GamesByGenre-x_6x1IZW.js","assets/index-kSn3iDCK.js","assets/index-v2Qzqqdn.js","assets/GamesByPlatform-cAbw8srZ.js","assets/RawgPlatformList--RX2qCob.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
