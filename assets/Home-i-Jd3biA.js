import{r as s,_ as a,j as e,L as d}from"./index-keGz_NnW.js";import{r as l}from"./rawgApi-JX0N44-y.js";import"./axios-L6U4YIEh.js";s.lazy(()=>a(()=>import("./GameBanner-ym6pqENr.js"),__vite__mapDeps([0,1,2])));const E=s.lazy(()=>a(()=>import("./RawgGenreList-6uY4TAcH.js"),__vite__mapDeps([3,1,2,4,5,6]))),j=s.lazy(()=>a(()=>import("./GamesByGenre-38U3UQPx.js"),__vite__mapDeps([7,1,2,8,5,6]))),v=s.lazy(()=>a(()=>import("./RawgPlatformList-ObGTqYr9.js"),__vite__mapDeps([9,1,2,4,5,6]))),w=()=>{const[n,c]=s.useState([]),[h,i]=s.useState(null),[x,p]=s.useState([]),[m,f]=s.useState(null);s.useEffect(()=>{g()},[]);const o=(t,r)=>{f(r),console.error(`Error: ${r}`,t)},g=async()=>{try{const t=await l.getPlatformList();p(t?.data?.results||[])}catch(t){o(t,"Error fetching platform list")}},_=async t=>{try{const r=await l.getGamesByGenreId(t);c(r?.data?.results||[])}catch(r){o(r,"Error fetching games by genre")}};if(m)return e.jsx("div",{className:"p-5 text-text",children:e.jsxs("p",{className:"text-xl",children:["Error: ",m]})});const y=async t=>{if(i(t),t)try{const r=await l.getGamesByPlatform(t);c(r?.data?.results||[])}catch(r){o(r,"Error fetching games by platform")}},u=t=>{i(null),_(t)};return e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[e.jsx(d,{to:"/streams/",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),e.jsx(d,{to:"/games/top",children:e.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:e.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),e.jsx(E,{onGenreSelect:u}),e.jsx(v,{platformList:x,onPlatformSelect:y})]}),n?.length>0&&e.jsx("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:e.jsx(j,{gamesByGenreList:n,platformId:h})})]})};export{w as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-ym6pqENr.js","assets/index-keGz_NnW.js","assets/index-BgXAfCmq.css","assets/RawgGenreList-6uY4TAcH.js","assets/CollapsibleSection-iIApBz66.js","assets/rawgApi-JX0N44-y.js","assets/axios-L6U4YIEh.js","assets/GamesByGenre-38U3UQPx.js","assets/index-bzvNA5FJ.js","assets/RawgPlatformList-ObGTqYr9.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
