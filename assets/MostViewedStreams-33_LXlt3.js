import{r,j as e}from"./index-MK_xJvdS.js";import{R as x}from"./twitch-MKIKI69G.js";import{t as p}from"./twitchApi-482K6jI3.js";const u=({gameId:i,limit:c})=>{const[n,o]=r.useState([]),[a,d]=r.useState(null);r.useEffect(()=>{h(i,c)},[]);const h=async(t,m=100)=>{try{const s=await p.getTwitchStreams({params:{game_id:t,first:m,sort:"viewers"}});o(s.data.data)}catch(s){console.error("Error fetching twitch streams:",s)}},l=t=>{d(t)};return e.jsxs("div",{className:"p-5",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-400 mb-4 mt-6 text-center",children:"Top 100 Most viewed Live Streams on Twitch"}),e.jsx("div",{className:"flex flex-wrap justify-center",children:n.map(t=>e.jsxs("div",{className:"w-auto sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4 bg-secondary rounded overflow-hidden shadow-lg m-5 group hover:scale-105 transition-all duration-300 ease cursor-pointer",children:[a&&a.id===t.id?e.jsx("div",{className:"player-wrapper",children:e.jsx(x,{className:"react-player",url:`https://www.twitch.tv/${t.user_name}`,width:"100%",height:"100%",controls:!0,playing:!0})}):e.jsxs("div",{className:"thumbnail-container relative w-full h-40 cursor-pointer",children:[t.thumbnail_url?e.jsx("img",{src:t.thumbnail_url.replace("{width}","640").replace("{height}","360"),alt:`Thumbnail for ${t.user_name}`,width:"100%",height:"100%",onClick:()=>l(t),className:"w-full h-full object-cover rounded-md mb-2 scale-95"}):e.jsx("div",{className:"placeholder w-full h-full bg-gray-300 m-3 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500",children:"No Thumbnail"})}),e.jsx("div",{className:"play-button absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",onClick:()=>l(t),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"#fff",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-base mb-2",children:e.jsx("h3",{className:"text-lg font-semibold",children:t.user_name})}),e.jsxs("p",{children:["Viewers: ",t.viewer_count]})]})]},t.id))})]})},g=()=>e.jsx("div",{className:"grid grid-cols-4",children:e.jsx("div",{className:"col-span-4 bg-primary text-text",children:e.jsx(u,{})})});export{g as default};
