import{r as s,_ as o,j as t,L as g,a as v}from"./index-afvJwPSE.js";import{r as c}from"./rawgApi-JX0N44-y.js";import"./axios-L6U4YIEh.js";const P=s.lazy(()=>o(()=>import("./GameBanner-maK1IZkT.js"),__vite__mapDeps([0,1,2]))),R=s.lazy(()=>o(()=>import("./RawgGenreList-KeIh1FSQ.js"),__vite__mapDeps([3,1,2,4,5,6]))),w=s.lazy(()=>o(()=>import("./GamesByGenre--kmIYKSu.js"),__vite__mapDeps([7,1,2,8,9,5,6])));s.lazy(()=>o(()=>import("./GamesByPlatform-AuGK59Mt.js"),__vite__mapDeps([10,1,2,5,6,8,9])));const I=s.lazy(()=>o(()=>import("./RawgPlatformList-ZC6srpt7.js"),__vite__mapDeps([11,1,2,4,5,6]))),B=()=>{const[n,x]=s.useState([]),[a,m]=s.useState([]),[i,f]=s.useState({}),[d,p]=s.useState(null),[_,y]=s.useState(null),[u,E]=s.useState([]);s.useEffect(()=>{n.length>0&&a.length>0&&f(a[Math.floor(Math.random()*n.length)])},[n,a]),s.useEffect(()=>{G(),h(4),j()},[]);const l=(e,r)=>{p(r),console.error(`Error: ${r}`,e)},G=async()=>{try{const e=await c.getGamesList;x(e?.data?.results||[])}catch(e){l(e,"Error fetching top-rated games")}},h=async e=>{try{const r=await c.getGamesByGenreId(e);m(r?.data?.results||[])}catch(r){l(r,"Error fetching games by genre")}},j=async()=>{try{const e=await c.getPlatformList();E(e?.data?.results||[])}catch(e){l(e,"Error fetching games by platform")}};if(d)return t.jsx("div",{className:"p-5 text-text",children:t.jsxs("p",{className:"text-xl",children:["Error: ",d]})});const L=async e=>{y(e);try{const r=await c.getGamesByPlatform(e);m(r?.data?.results||[])}catch(r){l(r,"Error fetching games by platform")}};return t.jsxs("div",{className:"grid grid-cols-4",children:[t.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[t.jsx(g,{to:"/streams/",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),t.jsx(g,{to:"/games/top",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),t.jsx(R,{onGenreSelect:e=>h(e)}),t.jsx(I,{platformList:u,onPlatformSelect:L})]}),n?.length>0&&a.length>0&&t.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[i?t.jsx(P,{game:i}):t.jsx(v,{}),t.jsx(w,{gamesByGenreList:a,platformId:_})]})]})};export{B as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-maK1IZkT.js","assets/index-afvJwPSE.js","assets/index-BgXAfCmq.css","assets/RawgGenreList-KeIh1FSQ.js","assets/CollapsibleSection-QTNXQRoa.js","assets/rawgApi-JX0N44-y.js","assets/axios-L6U4YIEh.js","assets/GamesByGenre--kmIYKSu.js","assets/index-rUUsy6-7.js","assets/index-1eTzJcGP.js","assets/GamesByPlatform-AuGK59Mt.js","assets/RawgPlatformList-ZC6srpt7.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
