import{r as s,_ as l,j as t,L as x,a as v}from"./index-hzREvqbv.js";import{r as i}from"./rawgApi-JX0N44-y.js";import"./axios-L6U4YIEh.js";const P=s.lazy(()=>l(()=>import("./GameBanner-0p29R1W2.js"),__vite__mapDeps([0,1,2,3]))),R=s.lazy(()=>l(()=>import("./RawgGenreList-rjF7cvk3.js"),__vite__mapDeps([4,1,2,5,6,7]))),I=s.lazy(()=>l(()=>import("./GamesByGenre-Cv_q34Sg.js"),__vite__mapDeps([8,1,2,9,10,6,7])));s.lazy(()=>l(()=>import("./GamesByPlatform-obRt6-Gb.js"),__vite__mapDeps([11,1,2,6,7,9,10])));const w=s.lazy(()=>l(()=>import("./RawgPlatformList-boUuAeXH.js"),__vite__mapDeps([12,1,2,5,6,7]))),S=(r,n)=>r.sort(()=>.5-Math.random()).slice(0,n),B=()=>{const[r,n]=s.useState([]),[o,f]=s.useState([]),[m,g]=s.useState({}),[d,p]=s.useState(null),[_,u]=s.useState(null),[y,G]=s.useState([]);s.useEffect(()=>{r.length>0&&o.length>0&&g(S(r,10))},[r,o]),s.useEffect(()=>{E(),h(4),j()},[]);const c=(e,a)=>{p(a),console.error(`Error: ${a}`,e)},E=async()=>{try{const e=await i.getGamesList;n(e?.data?.results||[])}catch(e){c(e,"Error fetching top-rated games")}},h=async e=>{try{const a=await i.getGamesByGenreId(e);f(a?.data?.results||[])}catch(a){c(a,"Error fetching games by genre")}},j=async()=>{try{const e=await i.getPlatformList();G(e?.data?.results||[])}catch(e){c(e,"Error fetching games by platform")}};if(d)return t.jsx("div",{className:"p-5 text-text",children:t.jsxs("p",{className:"text-xl",children:["Error: ",d]})});const L=e=>{u(e),console.log("Platform ID selected:",e)};return t.jsxs("div",{className:"grid grid-cols-4",children:[t.jsxs("div",{className:"bg-secondary text-text hidden md:block",children:[t.jsx(x,{to:"/streams/",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Streaming"})})}),t.jsx(x,{to:"/games/top",children:t.jsx("div",{className:"p-5 hover:bg-accent hover:text-white",children:t.jsx("h2",{className:"text-3xl font-bold mr-2",children:"Top Rated"})})}),t.jsx(R,{onGenreSelect:e=>h(e)}),t.jsx(w,{platformList:y,onPlatformSelect:L})]}),r?.length>0&&o.length>0&&t.jsxs("div",{className:"col-span-4 md:col-span-3 bg-primary text-text",children:[m.length>0?t.jsx(P,{randomGames:m}):t.jsx(v,{}),t.jsx(I,{gamesByGenreList:o,platformId:_})]})]})};export{B as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameBanner-0p29R1W2.js","assets/index-hzREvqbv.js","assets/index-USi8laUd.css","assets/GameBanner-12C-0-yp.css","assets/RawgGenreList-rjF7cvk3.js","assets/CollapsibleSection-9J6jDtrq.js","assets/rawgApi-JX0N44-y.js","assets/axios-L6U4YIEh.js","assets/GamesByGenre-Cv_q34Sg.js","assets/index-eO2oLPBK.js","assets/index-zrxLWr_1.js","assets/GamesByPlatform-obRt6-Gb.js","assets/RawgPlatformList-boUuAeXH.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
