import{G as n,d as F,u as H,r as l,j as e,e as D,f as P,a as A,g as m,h as G,i as V,k,l as z,m as L}from"./index-4v41wHwD.js";import{R as I}from"./index-wikk2et2.js";import{F as R}from"./index-UvCYK72W.js";function E(r){return n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307.723 39.623c-25.627-.292-48.63 17.365-54.246 43.44-6.418 29.8 12.39 58.93 42.19 65.347 29.798 6.417 58.927-12.39 65.345-42.19 6.417-29.798-12.39-58.928-42.188-65.345-3.725-.802-7.44-1.21-11.1-1.252zm-37.543 117.88L237.123 311h47.055l30.97-143.81c-7.584.836-15.418.507-23.27-1.184-7.854-1.69-15.13-4.617-21.698-8.502zM198.486 329l-10 30h135.028l-10-30H198.486zM73 377v30h30v-30H73zm93.486 0l-10 30h199.028l-10-30H166.486zM409 377v30h30v-30h-30zM57 425v62h398v-62H57z"},child:[]}]})(r)}function C(r){return n({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 .6h7.1l9.85 15.9V.6H24v22.8h-7.04L7.06 7.5v15.9H0V.6"},child:[]}]})(r)}function _(r){return n({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.176 24h3.674c3.376 0 6.15-2.774 6.15-6.15V6.15C24 2.775 21.226 0 17.85 0H14.1c-.074 0-.15.074-.15.15v23.7c-.001.076.075.15.226.15zm4.574-13.199c1.351 0 2.399 1.125 2.399 2.398 0 1.352-1.125 2.4-2.399 2.4-1.35 0-2.4-1.049-2.4-2.4-.075-1.349 1.05-2.398 2.4-2.398zM11.4 0H6.15C2.775 0 0 2.775 0 6.15v11.7C0 21.226 2.775 24 6.15 24h5.25c.074 0 .15-.074.15-.149V.15c.001-.076-.075-.15-.15-.15zM9.676 22.051H6.15c-2.326 0-4.201-1.875-4.201-4.201V6.15c0-2.326 1.875-4.201 4.201-4.201H9.6l.076 20.102zM3.75 7.199c0 1.275.975 2.25 2.25 2.25s2.25-.975 2.25-2.25c0-1.273-.975-2.25-2.25-2.25s-2.25.977-2.25 2.25z"},child:[]}]})(r)}function U(r){return n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 5V16H20V5H4ZM2 4.00748C2 3.45107 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44892 22 4.00748V18H2V4.00748ZM1 19H23V21H1V19Z"},child:[]}]})(r)}const B="https://www.googleapis.com/youtube/v3",T=F.create({baseURL:B}),X=async r=>{try{const a=await T.get("/search",{params:{part:"snippet",q:r+" trailer",key:"AIzaSyDZkcBhipYcq2wPF6uqocU396uB0aXztGA",type:"video"}});if(a.data.items.length>0)return"https://www.youtube.com/watch?v="+a.data.items[0].id.videoId;throw new Error("No trailer found for the game")}catch(a){throw new Error("Failed to fetch game trailer: "+a.message)}},Z={getGameTrailer:X},J=()=>{const{gId:r}=H(),[a,x]=l.useState(null),[o,d]=l.useState(null),[c,h]=l.useState(!1),[u,f]=l.useState(!1),[p,g]=l.useState(null),j={youtube:{playerVars:{showinfo:0,modestbranding:1}}};l.useEffect(()=>{(async()=>{try{const s=await A.getGameData(r);s.data?(x(s.data),v(s.data.name)):b(s)}catch{w()}})()},[r]);const v=async t=>{try{const s=await Z.getGameTrailer(t);g(s)}catch(s){console.error("Error fetching game trailer:",s)}},b=t=>{d("Invalid response structure from the API"),console.error("Invalid response structure from the API",t)},w=()=>{d("Failed to fetch game data"),console.error("Failed to fetch game data")},N=()=>{f(!0)},y=()=>{h(!c)},i=(t,s)=>e.jsx("p",{className:"text-lg",children:e.jsx("a",{className:"text-info hover:underline mt-2 hover:text-accent",href:s,target:"_blank",rel:"noopener noreferrer",children:t})}),M=t=>{const s={year:"numeric",month:"short",day:"numeric"};return new Date(t).toLocaleDateString(void 0,s)},S=t=>{switch(t){case"Apple Macintosh":return e.jsx(U,{});case"Xbox":return e.jsx(m,{});case"Android":return e.jsx(L,{});case"Linux":return e.jsx(z,{});case"PlayStation":return e.jsx(k,{});case"PC":return e.jsx(V,{});case"macOS":return e.jsx(G,{});case"Nintendo Switch":return e.jsx(_,{});case"Nintendo":return e.jsx(C,{});case"Xbox Series X":return e.jsx(E,{});case"Xbox One":return e.jsx(m,{});default:return e.jsx("span",{children:t})}};return o?e.jsx("div",{className:"p-5 text-text",children:e.jsxs("p",{className:"text-xl",children:["Error: ",o]})}):a?e.jsxs("div",{className:"relative text-text p-5",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden shadow-lg",children:[e.jsx("div",{className:"absolute bottom-0 p-5 h-full w-full"}),e.jsx("img",{className:"w-full object-cover rounded-md shadow-lg",style:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0.20), rgba(0, 0, 0, 0))"},src:a.background_image,alt:a.name})]}),e.jsxs("div",{className:"relative flex flex-col items-center mt-20 mb-20",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-5xl cursor-pointer hover:scale-125 transition duration-500 ease-in-out font-bold mb-6",children:a.name}),e.jsxs("p",{className:"text-lg",children:["Released date: ",M(a.released)]}),e.jsxs("p",{className:"text-xl font-bold flex items-center justify-center gap-1 mt-2",children:[e.jsx(D,{alt:"The number of ratings"})," ",a.rating," / ",a.rating_top]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row w-full mt-20 mb-20",children:[e.jsxs("div",{className:"md:w-1/2 md:pr-8 mb-16",children:[e.jsx("div",{className:"border border-accent rounded-md overflow-hidden mt-4 mb-5",children:e.jsx("img",{className:"w-full hover:scale-110 duration-300 transition ease-in-out object-cover rounded-md",src:a.background_image,alt:a.name})}),e.jsx("div",{className:"border border-accent rounded-md overflow-hidden",children:e.jsx(I,{url:p,width:"100%",height:"500px",controls:!0,onPlay:N,config:j,style:{opacity:u?1:.5,transition:"opacity 0.5s"}})})]}),e.jsxs("div",{className:"md:w-1/2 md:pl-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Game Description"}),e.jsx("p",{className:`text-lg leading-relaxed ${c?"whitespace-pre-line":"line-clamp-3"}`,children:a.description_raw}),e.jsx("button",{className:"text-blue-500 hover:underline mt-2",onClick:y,children:c?"Show Less":"Show More"})]}),e.jsx("div",{className:"flex justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold mb-1 flex gap-2 items-center",children:[e.jsx(R,{alt:"MetaCritic Rating"})," Metacritic Score: ",a.metacritic]}),i("Metacritic URL",a.metacritic)]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-1 flex gap-2 items-center ",children:[" ",e.jsx(P,{}),"Additional Links"]}),i("Game Website",a.website),i("Reddit",a.reddit_url)]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Developers"}),e.jsx("div",{className:"flex flex-wrap",children:a.developers.map(t=>e.jsx("p",{className:"text-lg mr-4",children:t.name},t.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Genres"}),e.jsx("div",{className:"flex flex-wrap",children:a.genres.map(t=>e.jsxs("div",{className:"flex items-center mt-2 mr-4",children:[e.jsx("img",{src:t.image_background,alt:t.name,className:"w-6 h-6 object-cover rounded-lg mr-2"}),e.jsx("p",{className:"text-lg",children:t.name})]},t.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap",children:a.tags.map(t=>e.jsx("p",{className:"text-lg mr-4",children:t.name},t.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Platforms"}),e.jsx("div",{className:"flex flex-wrap",children:a.parent_platforms.map((t,s)=>e.jsx("p",{className:"text-lg mr-4 hover:scale-150 duration-300 ease-in-out",children:S(t.platform.name)},s))})]})]})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{role:"status",children:e.jsx("span",{className:"text-text",children:"Loading...."})})})};export{J as default};
